
<div class="banner">
  <div class="d-flex justify-content-center"><%= image_tag "https://res.cloudinary.com/di7k88pkv/image/upload/v1675864703/agenx4hoeac8j1gufekm.png", height: 115, width: 210, alt: "Logo blablasport" %></div>
  <div class="d-flex justify-content-center"><h1>LE RESEAU SPORTIF</h1></div><br><br>
  <div class="d-flex justify-content-center"><%= link_to "J'ajoute une partie", new_event_path, class: "btn btn-warning" %></div><br>
</div>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-12">

      <div class="d-flex justify-content-center">
        <div class="form_search">
          <%= simple_form_for :search, method: :get, defaults: { required: false } do |f| %>
            <%= f.input :"", label: "", placeholder: "Je cherche une partie ", input_html: { name: 'search', value: params.dig(:search) } %>
          <% end %>
        </div>
      </div>

      <div class="d-flex" style="width: 100% ; height: 400px;" data-controller="map" data-map-markers-value="<%= @markers.to_json %>" data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div><br>

      <div>
        <h1>A venir : </h1><br>

        <% @events.each do |event| %>
          <h4><strong><%= event.sport.sport_name %></strong>
          <span> - <strong><%= event.address.split.last %></strong> - Le <%= event.date.strftime("%d/%m/%Y") %> à <%= event.time.strftime("%kh%M") %><br></h4>

          <% if event.players_number == 1 %>
            <span><strong><%= event.players_number %></strong> place disponible</span><br>
          <% else %>
            <span><strong><%= event.players_number %></strong> places disponibles</span><br>
          <% end %>

          <h6>Créé par <strong><%= event.user.first_name %></strong><span> le <%= event.created_at.strftime("%d/%m/%Y") %></span></h6>

          <%= link_to "Voir le détail", event_path(event), class: "btn btn-outline-secondary" %><br><br>
        <% end %>

      </div>

    </div>
  </div>
</div>
